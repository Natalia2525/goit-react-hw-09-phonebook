(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[1],{127:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n(33),o=n.n(r),u=n(18),i=n(13),a=n(8),s=function(t){return t.user.isAuthenticated},b=function(t){return t.user.user.email},j=n(2),l={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#2A363B"},activeLink:{color:"#E84A5F"}},d=function(){var t=Object(i.c)(s);return Object(j.jsxs)("nav",{children:[Object(j.jsx)(u.b,{to:"/",exact:!0,style:l.link,activeStyle:l.activeLink,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),t&&Object(j.jsx)(u.b,{to:"/contacts",exact:!0,style:l.link,activeStyle:l.activeLink,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})]})},f=n(34),O=(n(72),{container:{display:"flex",alignItems:"center"},name:{fontWeight:700,marginRight:12,color:"black"},button:{padding:"5px 40px",backgroundColor:"rgb(184, 92, 80)",border:"none",borderRadius:5,boxShadow:"0px 0px 3px 0px black",cursor:"pointer"}}),h=function(){var t=Object(i.b)(),e=Object(i.c)(b);return Object(j.jsxs)("div",{style:O.container,children:[Object(j.jsxs)("span",{style:O.name,children:[e," "]}),Object(j.jsx)("button",{style:O.button,type:"button",onClick:function(){return t(Object(f.b)())},children:"\u0412\u044b\u0439\u0442\u0438"})]})},p={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#2A363B"},activeLink:{color:"#E84A5F"}};function g(){return Object(j.jsxs)("div",{children:[Object(j.jsx)(u.b,{to:"/register",exact:!0,style:p.link,activeStyle:p.activeLink,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(j.jsx)(u.b,{to:"/login",exact:!0,style:p.link,activeStyle:p.activeLink,children:"\u041b\u043e\u0433\u0438\u043d"})]})}var x,k,y,m,v,C=n(142),A=n(145),S=Object(C.a)((function(t){return{header:{display:"flex",justifyContent:"space-between",alignItems:"center"},app:{backgroundColor:"#f8ab8d"}}})),_=function(){var t=S(),e=Object(i.c)(s);return Object(j.jsx)(A.a,{position:"static",className:t.app,children:Object(j.jsxs)("header",{className:t.header,children:[Object(j.jsx)(d,{}),e?Object(j.jsx)(h,{}):Object(j.jsx)(g,{})]})})},E=n(27),R=n(7),w=function(t){var e=t.children,n=t.redirectTo,c=Object(R.a)(t,["children","redirectTo"]),r=Object(i.c)(s);return Object(j.jsx)(a.b,Object(E.a)(Object(E.a)({},c),{},{children:r?e:Object(j.jsx)(a.a,{to:n})}))},L=function(t){var e=t.children,n=t.restricted,c=void 0!==n&&n,r=t.redirectTo,o=Object(R.a)(t,["children","restricted","redirectTo"]),u=Object(i.c)(s);return Object(j.jsx)(a.b,Object(E.a)(Object(E.a)({},o),{},{children:u&&c?Object(j.jsx)(a.a,{to:r}):e}))},F=n(60),P=n(26),q=n(69),T=n(68),z=n(65),D=n.n(z),N=(n(124),function(t){Object(q.a)(n,t);var e=Object(T.a)(n);function n(){return Object(F.a)(this,n),e.apply(this,arguments)}return Object(P.a)(n,[{key:"render",value:function(){return Object(j.jsx)(D.a,{style:{textAlign:"center"},className:"Loader",type:"Audio",color:"rgb(184, 92, 80)",height:120,width:120})}}]),n}(c.Component)),U=Object(c.lazy)((function(){return Promise.all([n.e(4),n.e(7)]).then(n.bind(null,213))})),B=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,214))})),I=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,217))})),W=Object(c.lazy)((function(){return Promise.all([n.e(5),n.e(6)]).then(n.bind(null,219))})),J=function(){var t=Object(i.b)();return Object(c.useEffect)((function(){t(Object(f.a)())}),[t]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(_,{}),Object(j.jsx)(c.Suspense,{fallback:Object(j.jsx)(N,{}),children:Object(j.jsxs)(a.d,{children:[Object(j.jsx)(a.b,{exact:!0,path:"/",component:U}),Object(j.jsx)(L,{path:"/register",component:I,restricted:!0,redirectTo:"/"}),Object(j.jsx)(L,{path:"/login",restricted:!0,component:B,redirectTo:"/"}),Object(j.jsx)(w,{path:"/contacts",component:W,redirectTo:"/login"})]})})]})},Y=n(66),G=n(21),H=n(9),K=n(20),M=n(67),Q=n.n(M),V=n(5),X=n(3),Z=n(29),$=Object(X.c)([],(x={},Object(V.a)(x,Z.g,(function(t,e){return e.payload})),Object(V.a)(x,Z.d,(function(t,e){var n=e.payload;return[].concat(Object(G.a)(t),[n])})),Object(V.a)(x,Z.j,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),x)),tt=Object(X.c)("",Object(V.a)({},Z.a,(function(t,e){return e.payload}))),et=Object(H.c)({items:$,filter:tt}),nt=n(4),ct={name:null,email:null},rt=Object(X.c)(ct,(k={},Object(V.a)(k,nt.l,(function(t,e){return e.payload.user})),Object(V.a)(k,nt.f,(function(t,e){return e.payload.user})),Object(V.a)(k,nt.i,(function(){return ct})),Object(V.a)(k,nt.c,(function(t,e){return e.payload})),k)),ot=Object(X.c)(null,(y={},Object(V.a)(y,nt.l,(function(t,e){return e.payload.token})),Object(V.a)(y,nt.f,(function(t,e){return e.payload.token})),Object(V.a)(y,nt.i,(function(){return null})),y)),ut=Object(X.c)(null,(m={},Object(V.a)(m,nt.j,(function(t,e){return e.payload})),Object(V.a)(m,nt.d,(function(t,e){return e.payload})),Object(V.a)(m,nt.g,(function(){return function(t,e){return e.payload}})),Object(V.a)(m,nt.a,(function(t,e){return e.payload})),m)),it=Object(X.c)(!1,(v={},Object(V.a)(v,nt.l,(function(){return!0})),Object(V.a)(v,nt.f,(function(){return!0})),Object(V.a)(v,nt.c,(function(){return!0})),Object(V.a)(v,nt.j,(function(){return!1})),Object(V.a)(v,nt.d,(function(){return!1})),Object(V.a)(v,nt.g,(function(){return!1})),Object(V.a)(v,nt.i,(function(){return!1})),v)),at=Object(H.c)({user:rt,token:ot,error:ut,isAuthenticated:it}),st=Object(G.a)(Object(X.d)({serializableCheck:{ignoredActions:[K.a,K.f,K.b,K.c,K.d,K.e]}})),bt={key:"token",storage:Q.a,whitelist:["token"]},jt=Object(H.c)({contacts:et,user:Object(K.g)(bt,at)}),lt=Object(X.a)({reducer:jt,middleware:st}),dt=Object(K.h)(lt);o.a.render(Object(j.jsx)(i.a,{store:lt,children:Object(j.jsx)(Y.a,{loading:Object(j.jsx)(N,{}),persistor:dt,children:Object(j.jsx)(u.a,{children:Object(j.jsx)(J,{})})})}),document.getElementById("root"))},29:function(t,e,n){"use strict";n.d(e,"f",(function(){return r})),n.d(e,"g",(function(){return o})),n.d(e,"e",(function(){return u})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return a})),n.d(e,"b",(function(){return s})),n.d(e,"i",(function(){return b})),n.d(e,"j",(function(){return j})),n.d(e,"h",(function(){return l})),n.d(e,"a",(function(){return d}));var c=n(3),r=Object(c.b)("contacts/fetchContactsRequest"),o=Object(c.b)("contacts/fetchContactsSuccess"),u=Object(c.b)("contacts/fetchContactsError"),i=Object(c.b)("contacts/fetchAddContactRequest"),a=Object(c.b)("contacts/fetchAddContactSuccess"),s=Object(c.b)("contacts/fetchAddContactError"),b=Object(c.b)("contacts/fetchDeleteContactRequest"),j=Object(c.b)("contacts/fetchDeleteContactSuccess"),l=Object(c.b)("contacts/fetchDeleteContactError"),d=Object(c.b)("contacts/changeFilter")},34:function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return b}));var c=n(25),r=n.n(c),o=n(4);r.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var u=function(t){return r.a.defaults.headers.Authorization=t},i=function(t){return function(e){e(o.k()),r.a.post("/users/signup",t).then((function(t){var n=t.data;return e(o.l(n))})).then((function(t){var e=t.data;return u(e.token)})).catch((function(t){return e(o.j(t.message))}))}},a=function(t){return function(e){e(o.e()),r.a.post("/users/login",t).then((function(t){var n=t.data;e(o.f(n)),u(n.token)})).catch((function(t){return e(o.d(t.message))}))}},s=function(){return function(t){t(o.h()),r.a.post("/users/logout").then((function(){t(o.i()),u(null)})).catch((function(e){return t(o.g(e.message))}))}},b=function(){return function(t,e){var n=e().user.token;n&&(u(n),t(o.b()),r.a.get("/users/current").then((function(e){var n=e.data;return t(o.c(n))})).catch((function(e){return t(o.a(e.message))})))}}},4:function(t,e,n){"use strict";n.d(e,"k",(function(){return r})),n.d(e,"l",(function(){return o})),n.d(e,"j",(function(){return u})),n.d(e,"h",(function(){return b})),n.d(e,"i",(function(){return j})),n.d(e,"g",(function(){return l})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return f})),n.d(e,"a",(function(){return O}));var c=n(3),r=Object(c.b)("user/registerRequest"),o=Object(c.b)("user/registerSuccess"),u=Object(c.b)("user/registerError"),i=Object(c.b)("user/loginRequest"),a=Object(c.b)("user/loginSuccess"),s=Object(c.b)("user/loginError"),b=Object(c.b)("user/logoutRequest"),j=Object(c.b)("user/logoutSuccess"),l=Object(c.b)("user/logoutError"),d=Object(c.b)("user/getCurrentUserRequest"),f=Object(c.b)("user/getCurrentUserSuccess"),O=Object(c.b)("user/getCurrentUserError")},72:function(t,e,n){t.exports={form:"PhonebookForm_form__3Lihe",title:"PhonebookForm_title__1atNp",input:"PhonebookForm_input__htC8l",button:"PhonebookForm_button__1p-7Y"}}},[[127,2,3]]]);
//# sourceMappingURL=main.a0c50dc1.chunk.js.map